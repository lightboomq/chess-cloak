import React from 'react';
import s from './style.module.css';
import Controler from './Controler.jsx';
import Timer from './Timer.jsx';

function Game() {
    const [timePlayer1, setTimePlayer1] = React.useState('');
    const [timePlayer2, setTimePlayer2] = React.useState('');
    const [activePlayer, setActivePlayer] = React.useState(1);
    const [controler, setControler] = React.useState('pause');


    
    const switchPlayer = () => {
        if (controler === 'pause') return;
        const str = `
		data:audio/ogg;base64,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
	`;
        const sound = new Audio(str);
        setActivePlayer(activePlayer === 1 ? 2 : 1);
        sound.play();
    };

    return (
        <div className={s.wrapperPlayer}>
            <Controler controler={controler} setControler={setControler} rotateValue='180deg' />

            <div onClick={switchPlayer} className={activePlayer === 1 ? s.field : `${s.field} ${s.pushField}`} />

            <Timer
                setTimeCurrentPlayer={setTimePlayer1}
                isRunningPlayer={activePlayer === 1}
                opponentTime={timePlayer2}
                rotate={true}
                controler={controler}
                setControler={setControler}
            />
            <Timer
                setTimeCurrentPlayer={setTimePlayer2}
                isRunningPlayer={activePlayer === 2}
                opponentTime={timePlayer1}
                controler={controler}
                setControler={setControler}
            />

            <Controler controler={controler} setControler={setControler} />
        </div>
    );
}

export default Game;
